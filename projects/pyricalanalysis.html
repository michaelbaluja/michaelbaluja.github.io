<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Python Lyrical Analysis</title>

	<!-- Meta Data -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="address=no"/>
    <meta name="author" content="Michael Baluja" />
    <meta name="description" content="Personal website for Michael Baluja" />

    <!-- Twitter data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@mlbaluja">
    <meta name="twitter:title" content="Michael Baluja">
    <meta name="twitter:description" content="Personal website for Michael Baluja">
    <meta name="twitter:image" content="assets/images/social.jpg">

    <!-- Open Graph data -->
    <meta property="og:title" content="Michael Baluja" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://michaelbaluja.com" />
    <meta property="og:image" content="assets/images/social.jpg" />
    <meta property="og:description" content="Personal website for Michael Baluja" />
    <meta property="og:site_name" content="Michael Baluja" />

	<!-- Favicons -->
	<link rel="apple-touch-icon" sizes="144x144" href="../assets/images/favicons/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="114x114" href="../assets/images/favicons/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="../assets/images/favicons/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="57x57" href="../assets/images/favicons/apple-touch-icon-57x57.png">
	<link rel="shortcut icon" href="../assets/images/favicons/favicon.png" type="image/png">

    <!-- Styles -->
	<link rel="stylesheet" type="text/css" href="../assets/styles/style.css"/>
	
</head>
<body class="bg-none">
    <!-- Preloader -->
    <div class="preloader">
	    <div class="preloader__wrap">
		    <div class="circle-pulse">
                <div class="circle-pulse__1"></div>
                <div class="circle-pulse__2"></div>
            </div>
		    <div class="preloader__progress"><span></span></div>
		</div>
	</div>

	<!-- Scroll Indicator -->
    <div class="scroll-line"></div>

    <main class="main">
	    <div class="container gutter-top">
		    <div class="row sticky-parent">
			    <!-- Sidebar -->
                <aside class="col-12 col-md-12 col-xl-3">
				    <div class="sidebar box shadow pb-0 sticky-column">
						<svg class="avatar avatar--180" viewBox="0 0 188 188">
                            <g class="avatar__box">
                                <image xlink:href="../assets/img/headshot.png" height="100%" width="100%" />
                            </g>
                        </svg>
						<div class="text-center">
						    <h3 class="title title--h3 sidebar__user-name"><span class="weight--500">Michael</span> Baluja</h3>
							<div class="badge badge--light">Machine Learning <br> & Data Science</div>
							
							<!-- Social -->
		                    <div class="social">
		                        <a class="social__link" href="https://www.github.com/michaelbaluja"><i class="font-icon icon-github"></i></a>
		                        <a class="social__link" href="https://www.twitter.com/mlbaluja"><i class="font-icon icon-twitter"></i></a>
		                        <a class="social__link" href="https://www.linkedin.com/in/michaelbaluja"><i class="font-icon icon-linkedin2"></i></a>
		                    </div>
						</div>
						
						<div class="sidebar__info box-inner box-inner--rounded">
		                    <ul class="contacts-block">
						        <li class="contacts-block__item" data-toggle="tooltip" data-placement="top" title="Location">
							        <i class="font-icon icon-location"></i>San Diego, CA
							    </li>
						        <li class="contacts-block__item" data-toggle="tooltip" data-placement="top" title="E-mail">
							        <a href="mailto:michael@michaelbaluja.com"><i class="font-icon icon-envelope"></i>michael@michaelbaluja.com</a>
							    </li>
						        <li class="contacts-block__item" data-toggle="tooltip" data-placement="top" title="Phone">
							        <i class="font-icon icon-phone"></i>+1 (760) 330-6385
							    </li>
					        </ul>
							
							<a class="btn" href="../assets/files/MichaelBalujaResume.pdf" target="_blank" rel="noopener noreferrer"><i class="font-icon icon-download"></i> Download Resume</a>
						</div>
					</div>	
		        </aside>
		        
				<!-- Content -->
		        <div class="col-12 col-md-12 col-xl-9">
				    <div class="box shadow pb-0 pt-sm-6">
					    <!-- Menu -->
					    <div class="circle-menu d-sm-none">
						    <div class="hamburger">
                                <div class="line"></div>
                                <div class="line"></div>
                                <div class="line"></div>
                            </div>
						</div>
						<div class="inner-menu inner-menu-alt">
						    <ul class="nav">
                                <li class="nav__item"><a href="../index.html">About</a></li>
								<li class="nav__item"><a href="../resume.html">Resume</a></li>
                                <li class="nav__item"><a class="active" href="../projects.html">Projects</a></li>
                            </ul>
						</div>

						<!-- Post -->
						<div class="pb-3">
						    <header class="header-post">
						        <div class="header-post__date">December 2020</div>
                                <h1 class="title title--h1">Python Lyrical Analysis</h1>
							</header>
							<div class="caption-post">
								<h1 class="title title--h1">Task</h1>
								<p>To be able to analyze the sentiment of the artist/song that you want to analyze, the implementation can be broken into a couple of different tasks: obtaining the lyrics, analyzing the lyrics, and displaying the finalized analysis.</p>
								
								<h1 class="title title--h1">Implementation</h1>
									<h2 class="title title--h2">Obtaining Lyrics</h2>
									<p>In order to obtain the lyrics that we wish to analyze, we make use of the LyricsGenius python-based genius.com API wrapper. This library provides all of the necessary usability available from the genius.com proper API.</p>
									<p>Making use of the LyricsGenius library requires that the user provides a genius api key, either via the runtime arguments, or as a separate input once the program starts. There are addition runtime arguments that are used to prompt how analysis should be done. For instance, the user can choose to analyze a single song, an entire artist based on each song, or an artist based on each of their albums. Note that regardless of which option is chosen for an artist, there is the option to later select specific albums/songs so that the entire discography does not need to be analyzed.</p>
									<p>Once the lyrics are properly obtained, a handful of sanitization steps are implemented in order to ensure that the proper lyrics are being analyzed. First, the string of lyrics is vectorized in order to give us a list of words for us to analyze the sentiment for. On the song-wide scope, there are a few custom-made features that can be used to remove any remixed songs or unfinished songs, since these types of songs are usually repeats, and would only skew the sentiment ratings. These two user-specified flags, remove_remix and remove_unfinished, are also able to be specified at runtime, and are only available for analysis on artists as a whole. Additionally, on the lyric-wide scope of things, the common list of english stopwords is checked in order to remove all non-sentiment contributing words from our list of lyric words to analyze, and we also ensure that all common punctuation is also removed.</p>

									<h2 class="title title--h2">Analyzing the Lyrics</h2>
									<p>After obtaining the lyrics, analysis is much more straightforward. Lyrical analysis is conducted using the sentiment polarity analyzer that is made available through the nltk toolkit. Once the songs/songs are passed through the analyzer, the positive/negative/ neutral sentiment scores are recorded and properly weighted in order to judge the sentiment of a song. Note that while nltk does provide a composite score that will give us a sentiment label for a given list of lyric words, we are interested in sentiment breakdowns across the positive/negative/neutral categories, not just the overall label.</p>

									<h2 class="title title--h2">Displaying the Analysis</h2>
									<p>Sentiment analysis display is done through the use of wrapper functionality built on top of graphing capabilities provided by the matplotlib python plotting library. Two different methods are available for analysis display: a pie chart that displays proportion across sentiment categories for individual songs/albums, and a line chart to show the difference in sentiment categories across different albums and songs. Again, a runtime flag is available at runtime for the user to specify how they would like to view the sentiment breakdown.</p>
							
								<h1 class="title title--h1">Challenges</h1>
								<p>While a handful of different problems were presented during the development of this project, the largest problem was presented up front with the lyric-wrangling from the genius API. While there was initial issues with ensuring functionality of the genius API, the easiest solution to this problem seemed to be using the LyricsGenius library in order to access the API without having to wrestle with the API otherwise. Since the LyricsGenius library provides all of the same functionality as the base genius API does, no issue has arised from this workaround. For future feature addition with something like analysis of the artists/albums/songs from a user's Spotify library, a similar workaround is present through the use of the python-based Spotify API library spotipy.</p>
								<p>Another issue that presented itself involved removing remixed songs from the songs to analyze when analyzing an artist by album. While the LyricsGenius library includes functionality to remove songs based on certain keywords, this functinality doesn't entirely solve the issue. Even though a song may include the word 'remix' in it, it is not necessary a remix in and of itself. In order to resolve this issue, special sanitization functions were created and implemented in order to make sure that the 'remix' tag at the end of the song would ensure that the song is removed, while not removing songs that don't appear to be remixes (in order to see the functionality behind this, the source code is available under lib/utils in the github repository). Similar functionality was implemented to remove unfinished songs that may include a tag such as (leak), (demo), or other similar songs. Additional functionality should be included in order to give the user the ability to choose certain keywords that should be excluded, either in addition to or instead of the keywords that are currently in use.</p>
							
								<h1 class="title title--h1">Thoughts</h1>
								<p>First and foremost, it is great to see a functional tool created based off of the initial idea to analyze my favorite artist. While the original functionality has been implemented, there is certainly room for even further improvement.</p>
								<p>While the posted sentiment is good as a general indication of how songs or albums may be, the sentiment analysis method used doesn't seem to capture complex sentiment that may be constructed over the course of a line, verse, or even an entire song. In order to better analyze sentiment in this regard, a better sentiment analysis technique likely involved some sort of memory-based analysis, such as a Long-Short Term Memory (LSTM) or Recurrent (RNN) Neural Network. Additionally, there is likely also a better way to analyze sentiment over the course of an entire album. Instead of saying that the sentiment of an album is simply the average of the sentiment of the songs in that album, a similar memory-based technique should be implemented in order to analyze album sentiment over the course of the first word in an album to the last word in an album.</p>
								<p>In terms of additional work for this project, two main points come to mind. First up is the ability to analyze sentiment over a single album, as opposed to only analyzing a song or artist. While this may seem easy at face value, the lack of an album element in the genius API means that additional wrangling will be required in order to implement this. In order to implement this functionality, an initial proposal is to search for the tracklist of the user's requested album, and then making individual calls to the Genius API for each song in the tracklist. An additional feature to add is the ability for a user to enter their spotify username and then analyze the sentiment of select artists/ albums/songs from their library.</p>
							</div>
						</div>
					</div>
					
					<!-- Footer -->
					<footer class="footer">© 2021 Michael Baluja</footer>
		        </div>
				
			</div>
		</div>	
    </main>

    <div class="back-to-top"></div>
	
    <!-- SVG masks -->
    <svg class="svg-defs">
        <clipPath id="avatar-box">
            <path d="M1.85379 38.4859C2.9221 18.6653 18.6653 2.92275 38.4858 1.85453 56.0986.905299 77.2792 0 94 0c16.721 0 37.901.905299 55.514 1.85453 19.821 1.06822 35.564 16.81077 36.632 36.63137C187.095 56.0922 188 77.267 188 94c0 16.733-.905 37.908-1.854 55.514-1.068 19.821-16.811 35.563-36.632 36.631C131.901 187.095 110.721 188 94 188c-16.7208 0-37.9014-.905-55.5142-1.855-19.8205-1.068-35.5637-16.81-36.63201-36.631C.904831 131.908 0 110.733 0 94c0-16.733.904831-37.9078 1.85379-55.5141z"/>
        </clipPath>
        <clipPath id="avatar-hexagon">
             <path d="M0 27.2891c0-4.6662 2.4889-8.976 6.52491-11.2986L31.308 1.72845c3.98-2.290382 8.8697-2.305446 12.8637-.03963l25.234 14.31558C73.4807 18.3162 76 22.6478 76 27.3426V56.684c0 4.6805-2.5041 9.0013-6.5597 11.3186L44.4317 82.2915c-3.9869 2.278-8.8765 2.278-12.8634 0L6.55974 68.0026C2.50414 65.6853 0 61.3645 0 56.684V27.2891z"/>
        </clipPath>		
    </svg>

	<!-- JavaScripts -->
	<script src="../assets/js/jquery-3.4.1.min.js"></script>
	<script src="../assets/js/plugins.min.js"></script>
    <script src="../assets/js/common.js"></script>

</body>
</html>